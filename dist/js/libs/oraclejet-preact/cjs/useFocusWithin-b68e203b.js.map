{"version":3,"file":"useFocusWithin-b68e203b.js","sources":["../../src/hooks/UNSAFE_useFocusWithin/useFocusWithin.ts"],"sourcesContent":["import { useCallback, useState } from 'preact/hooks';\n\ntype FocusEvents = {\n  onBlurWithin?: (e: FocusEvent) => void;\n  onFocusWithin?: (e: FocusEvent) => void;\n};\n\ntype UseFocusWithinProps = FocusEvents & {\n  isDisabled?: boolean;\n};\n\nexport function useFocusWithin({\n  isDisabled,\n  onBlurWithin,\n  onFocusWithin\n}: UseFocusWithinProps = {}) {\n  const [isFocused, setIsFocused] = useState(false);\n  const onfocusin = useCallback(\n    (event: FocusEvent) => {\n      if (!isFocused) {\n        onFocusWithin?.(event);\n        setIsFocused(true);\n      }\n    },\n    [onFocusWithin, isFocused]\n  );\n  const onfocusout = useCallback(\n    (event: FocusEvent) => {\n      // Trigger focus event changes only when the focus goes outside of the current\n      // target. Ignore focus changes within the current target\n      if (\n        isFocused &&\n        (event.relatedTarget == null ||\n          !(event.currentTarget as HTMLElement).contains(event.relatedTarget as HTMLElement))\n      ) {\n        onBlurWithin?.(event);\n        setIsFocused(false);\n      }\n    },\n    [onBlurWithin, isFocused]\n  );\n\n  return isDisabled\n    ? {\n        isFocused: false,\n        focusProps: {}\n      }\n    : {\n        isFocused,\n        focusProps: {\n          onfocusin,\n          onfocusout\n        }\n      };\n}\n"],"names":["useState","useCallback"],"mappings":";;;;;AAWM,SAAU,cAAc,CAAC,EAC7B,UAAU,EACV,YAAY,EACZ,aAAa,EAAA,GACU,EAAE,EAAA;IACzB,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAGA,cAAQ,CAAC,KAAK,CAAC,CAAC;AAClD,IAAA,MAAM,SAAS,GAAGC,iBAAW,CAC3B,CAAC,KAAiB,KAAI;QACpB,IAAI,CAAC,SAAS,EAAE;AACd,YAAA,aAAa,aAAb,aAAa,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAb,aAAa,CAAG,KAAK,CAAC,CAAC;YACvB,YAAY,CAAC,IAAI,CAAC,CAAC;AACpB,SAAA;AACH,KAAC,EACD,CAAC,aAAa,EAAE,SAAS,CAAC,CAC3B,CAAC;AACF,IAAA,MAAM,UAAU,GAAGA,iBAAW,CAC5B,CAAC,KAAiB,KAAI;;;AAGpB,QAAA,IACE,SAAS;AACT,aAAC,KAAK,CAAC,aAAa,IAAI,IAAI;gBAC1B,CAAE,KAAK,CAAC,aAA6B,CAAC,QAAQ,CAAC,KAAK,CAAC,aAA4B,CAAC,CAAC,EACrF;AACA,YAAA,YAAY,aAAZ,YAAY,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAZ,YAAY,CAAG,KAAK,CAAC,CAAC;YACtB,YAAY,CAAC,KAAK,CAAC,CAAC;AACrB,SAAA;AACH,KAAC,EACD,CAAC,YAAY,EAAE,SAAS,CAAC,CAC1B,CAAC;AAEF,IAAA,OAAO,UAAU;AACf,UAAE;AACE,YAAA,SAAS,EAAE,KAAK;AAChB,YAAA,UAAU,EAAE,EAAE;AACf,SAAA;AACH,UAAE;YACE,SAAS;AACT,YAAA,UAAU,EAAE;gBACV,SAAS;gBACT,UAAU;AACX,aAAA;SACF,CAAC;AACR;;;;;;;"}