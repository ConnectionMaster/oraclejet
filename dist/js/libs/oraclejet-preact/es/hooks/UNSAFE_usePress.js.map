{"version":3,"file":"UNSAFE_usePress.js","sources":["../../../src/hooks/UNSAFE_usePress/usePress.ts","../../../src/hooks/UNSAFE_usePress/index.ts"],"sourcesContent":["import { useCallback } from 'preact/hooks';\n\n// TODO: The isSuppressDup arg is a bit strange. Maybe instead of that we could have something like clickKeys from OUI Core Actionable: https://alm.oraclecorp.com/uitech/#projects/jet-experiments/scm/oui-core.git/blob/packages/core/src/Actionable/Actionable.tsx?revision=main\n\nexport type PressOptions = {\n  isDisabled?: boolean;\n  isSuppressDup?: boolean;\n};\n\n/**\n * Returns a click handler that can make a target element either clickable or keyboard pressable.\n * Note that some elements such as Button may generate a click event upon ENTER, so if this is applied to a button,\n * specify true to suppress duplicates to avoid two events.\n *\n * @param onPressHandler function\n * @param isSuppressDup boolean\n * @returns\n */\n\nexport function usePress(\n  onPressHandler: (event: Event) => void,\n  settings: PressOptions = { isDisabled: false, isSuppressDup: true }\n): { pressProps: Record<string, any> } {\n  const onKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      if (event.key === ' ' || (!settings.isSuppressDup && event.key === 'Enter')) {\n        event.preventDefault();\n        onPressHandler(event);\n      }\n    },\n    [settings.isSuppressDup, onPressHandler]\n  );\n\n  const pressProps = settings.isDisabled ? {} : { onClick: onPressHandler, onKeyDown };\n\n  return {\n    pressProps\n  };\n}\n","/**\n * @license\n * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.\n * The Universal Permissive License (UPL), Version 1.0\n * as shown at https://oss.oracle.com/licenses/upl/\n * @ignore\n */\nexport * from './usePress';\n"],"names":[],"mappings":";;;AASA;;;;;;;;AAQG;AAEa,SAAA,QAAQ,CACtB,cAAsC,EACtC,QAAyB,GAAA,EAAE,UAAU,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,EAAA;AAEnE,IAAA,MAAM,SAAS,GAAG,WAAW,CAC3B,CAAC,KAAoB,KAAI;AACvB,QAAA,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,aAAa,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,CAAC,EAAE;YAC3E,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,cAAc,CAAC,KAAK,CAAC,CAAC;AACvB,SAAA;KACF,EACD,CAAC,QAAQ,CAAC,aAAa,EAAE,cAAc,CAAC,CACzC,CAAC;AAEF,IAAA,MAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,CAAC;IAErF,OAAO;QACL,UAAU;KACX,CAAC;AACJ;;ACtCA;;;;;;AAMG;;;;;;;"}