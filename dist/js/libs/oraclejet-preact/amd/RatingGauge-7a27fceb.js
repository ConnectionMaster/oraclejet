function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}define(["exports","./tslib.es6-6b9f8039","preact/jsx-runtime","preact","preact/hooks",'module',"./hooks/UNSAFE_useUser","./utils/UNSAFE_classNames","./hooks/UNSAFE_useTooltip","./utils/UNSAFE_mergeProps","./classNames-b2629d24"],(function(e,t,r,a,o,s,i,l,n,c,d){"use strict";const u=({isSelected:e,isDisabled:t,isReadOnly:a})=>{const o=`${e?"selected":"unselected"}${t&&"Disabled"||a&&"Readonly"||""}`,s=b[`${o}Color`],i=b[`${o}BorderColor`];return r.jsx("svg",Object.assign({viewBox:"0 0 36 36",height:"100%",width:"100%",class:b.base},{children:r.jsxs("g",{children:[r.jsx("path",{class:s,d:"m18 1 5.0061 11.9524 12.9939 1.0344-9.9 8.4215 3.0246 12.5917-11.1246-6.7476-11.12461 6.7476 3.02461-12.5917-9.9-8.4215 12.9939-1.0344z"}),r.jsx("path",{class:i,d:"m23.0061 12.9524-5.0061-11.9524-5.0061 11.9524-12.9939 1.0344 9.9 8.4215-3.02461 12.5917 11.12461-6.7476 11.1246 6.7476-3.0246-12.5917 9.9-8.4215zm10.5043 1.8394-8.5262 7.2528 2.6077 10.8562-9.5919-5.818-9.59192 5.818 2.60772-10.8562-8.52615-7.2528 11.19115-.891 4.3192-10.31227 4.3192 10.31227z"})]})}))},b={base:"_k7180v",selectedColor:"_29ecq3",selectedBorderColor:"_2r2o6x",unselectedColor:"_qc4qse",unselectedBorderColor:"_o7hntv",selectedReadonlyColor:"_mgr4kj",selectedReadonlyBorderColor:"_53rojp",unselectedReadonlyColor:"goezwb",unselectedReadonlyBorderColor:"g13d7e",selectedDisabledColor:"_dbjry0",unselectedDisabledColor:"ks0ff2",selectedDisabledBorderColor:"jwlywu",unselectedDisabledBorderColor:"_5nh9vh"},p=({fillRatio:e,isDisabled:t,isReadonly:o})=>{const{direction:s}=i.useUser(),l="rtl"===s;return 1===e||0===e?r.jsx(u,{isSelected:1===e,isDisabled:t,isReadOnly:o}):r.jsxs(a.Fragment,{children:[r.jsx("div",Object.assign({class:y.base,style:{clipPath:`inset(0% ${l?100*(1-e):0}% 0% ${l?0:100*e}%)`}},{children:r.jsx(u,{isSelected:!1,isDisabled:t,isReadOnly:o})})),r.jsx("div",Object.assign({class:y.base,style:{clipPath:`inset(0% ${l?0:100*(1-e)}% 0% ${l?100*(1-e):0}%)`}},{children:r.jsx(u,{isSelected:!0,isDisabled:t,isReadOnly:o})}))]})},y={base:"rwtkdq"};function h(e,t,r,a,o){const s=a.current;if(!s||0===s.width)return-1;const i=e-s.x,l=t*(o?s.width-i:i)/s.width/r;return l<.5?0:Math.ceil(l)*r}function m(e){if(!e)return{width:0,x:0};const t=e.getBoundingClientRect();return{width:Math.round(t.width),x:Math.round(t.x+window.scrollX)}}const f={base:"jdcynz",interactive:"l6g07z",lg:"_yb85ls",md:"_3j3phs",sm:"_y7g8lb",item:"_wrhoe9"};e.RatingGauge=function(e){var{max:s=5,value:l=0,size:u="md",step:b=1,isReadonly:y,isDisabled:v}=e,x=t.__rest(e,["max","value","size","step","isReadonly","isDisabled"]);const g=o.useRef(null),_=o.useRef(m(null)),w=!y&&!v;o.useEffect((()=>{_.current=m(g.current)}),[u,s]);const j=((e,t,r,a,s,l,n,c)=>{const d=o.useRef(),{direction:u}=i.useUser();if(!l)return{};const b="rtl"===u,p=e=>{null==c||c({value:e}),d.current=e},y=e=>{e.preventDefault(),e.stopPropagation()};return{onPointerUp:r=>{const a=h(r.pageX,e,t,s,b);-1!==a&&(null==n||n({value:a}))},onBlur:()=>{null==n||n({value:r})},onPointerMove:r=>{const a=h(r.pageX,e,t,s,b);-1!==a&&a!=d.current&&p(a)},onKeyUp:t=>{switch(t.key){case"Enter":null==n||n({value:r});break;case"Tab":p(r);break;case"Home":p(0);break;case"End":p(e)}y(t)},onKeyDown:a=>{switch(a.key){case"Tab":return;case"ArrowDown":p(Math.max(0,r-t));break;case"ArrowUp":p(Math.min(e,r+t));break;case"ArrowLeft":{const a=b?Math.min(e,r+t):Math.max(0,r-t);p(a);break}case"ArrowRight":{const a=b?Math.max(0,r-t):Math.min(e,r+t);p(a);break}}y(a)},onPointerLeave:()=>{p(void 0)},onPointerEnter:()=>{s.current=m(a.current)}}})(s,b,l,g,_,w,x.onCommit,x.onInput),{tooltipContent:A,tooltipProps:R}=function({max:e,value:t,isReadonly:r,isDisabled:a,tooltip:s,datatip:i,ariaDescribedBy:l,width:c}){const[d,u]=o.useState(!1),b=r&&!a?"tooltip":"datatip",p=Math.max(1,Math.ceil(t)),y="tooltip"===b?0:(p-Math.ceil(e/2))*c/e,{tooltipContent:h,tooltipProps:m}=n.useTooltipControlled({text:"tooltip"===b?s:i,isOpen:d,anchor:{x:"element",y:"element"},position:"bottom",offset:{mainAxis:8,crossAxis:y},isDisabled:a,onToggle:({value:e})=>u(e),variant:b});return l&&(m["aria-describedby"]=l),{tooltipContent:h,tooltipProps:m}}({max:s,value:l,isReadonly:y,isDisabled:v,tooltip:x.tooltip,datatip:x.datatip,width:_.current.width,ariaDescribedBy:x.ariaDescribedBy}),D=c.mergeProps(j,R),C=(e=>e.accessibleLabel?e.accessibleLabel:e.tooltip&&e.isReadonly&&!e.isDisabled?e.tooltip:void 0)({accessibleLabel:x.accessibleLabel,tooltip:x.tooltip,isReadonly:y,isDisabled:v});return r.jsxs(a.Fragment,{children:[r.jsx("div",Object.assign({ref:g,class:d.classNames([f.base,w?f.interactive:void 0]),"aria-label":C,role:"slider","aria-valuemin":"0","aria-valuenow":l,"aria-valuemax":s,"aria-valuetext":l,"aria-labelledby":x.ariaLabelledBy,tabIndex:v?void 0:0,"aria-disabled":v?"true":void 0},D,{children:_toConsumableArray(Array(s)).map(((e,t)=>{const a=Math.min(Math.max(0,l-t),1);return r.jsx("div",Object.assign({className:d.classNames([f[u],f.item])},{children:r.jsx(p,{fillRatio:a,isDisabled:v,isReadonly:y})}))}))})),A]})}}));
//# sourceMappingURL=RatingGauge-7a27fceb.js.map
